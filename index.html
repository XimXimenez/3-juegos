<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3 Juegos de Naipes</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="game-container">
        <header>
            <h1>3 Juegos de Naipes</h1>
            <div id="game-info">
                <div id="energy-container" style="display: none;">
                    Energía: <span id="energy">3</span>
                </div>
                <div id="score-container">
                    Puntuación: <span id="score">0</span>
                </div>
            </div>
        </header>

        <div id="preview-container" style="display: none;">
            <div id="next-piece-preview"></div>
        </div>

        <div id="game-board"></div>

        <div id="controls">
            <button id="rotate-button" style="display: none;">Rotar</button>
            <button id="refill-button" style="display: none;">Rellenar</button>
            <button id="pause-button" style="display: none;">Pausa</button>
            <button id="end-button" style="display: none;">Terminar</button>
        </div>
    </div>

    <!-- Modal de Bienvenida -->
    <div id="welcome-modal">
        <div class="modal-content">
            <h1>3 Juegos de Naipes</h1>
            
            <div class="game-modes">
                <div class="mode-section">
                    <h3 id="title-constructor">Constructor</h3>
                    <p>
                        Colocá en el tablero los grupos de naipes que aparecen.
                        Podés rotarlos antes de colocarlos. Formá grupos de 3 o más naipes 
                        vecinos del mismo palo para eliminarlos y ganar puntos.
                    </p>
                </div>

                <div class="mode-section">
                    <h3 id="title-espejo">Espejo</h3>
                    <p>
                        El tablero empieza lleno. Intercambiá naipes entre la mitad izquierda y la mitad 
                        derecha. Cada intercambio cuesta 1 energía. Los grupos de 3 o más vecinos del 
						mismo palo se eliminan solos y restauran energía.
						Podés volver a rellenar el tablero dos veces.
                    </p>
                </div>

                <div class="mode-section">
                    <h3 id="title-cascada">Cascada</h3>
                    <p>
                        Las cartas caen de una en una por el centro. Hacé click en la columna donde 
						quieras que caiga. Cuando dos naipes del mismo número se tocan, desaparecen.
						El juego termina cuando una columna se llena o cuando agotaste todas las cartas del mazo.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Fin de Juego -->
    <div id="end-game-modal" style="display: none;">
        <div class="modal-content">
            <h2 id="end-game-title">Juego Terminado</h2>
            <p>Tu puntuación final: <span id="final-score">0</span></p>
            
            <!-- Formulario para récord -->
            <div id="highscore-form" style="display: none;">
                <p>¡Nuevo récord! Ingresá tu nombre:</p>
                <input type="text" id="player-name" placeholder="Tu nombre" maxlength="15">
                <button id="save-score-button">Guardar</button>
            </div>

            <div class="mode-buttons">
                <button id="play-constructor">Constructor</button>
                <button id="play-espejo">Espejo</button>
                <button id="play-cascada">Cascada</button>
                <button id="view-leaderboard-button" style="display: none;">Ver Leaderboard</button>
            </div>
        </div>
    </div>

    <!-- Modal de Leaderboard -->
    <div id="leaderboard-modal" style="display: none;">
        <div class="modal-content">
            <h2>Leaderboard</h2>
            <div id="leaderboard-container">
                <div class="leaderboard-column">
                    <h3>Constructor</h3>
                    <ol id="leaderboard-constructor"></ol>
                </div>
                <div class="leaderboard-column">
                    <h3>Espejo</h3>
                    <ol id="leaderboard-espejo"></ol>
                </div>
                <div class="leaderboard-column">
                    <h3>Cascada</h3>
                    <ol id="leaderboard-cascada"></ol>
                </div>
            </div>
            <div class="mode-buttons">
                <button id="play-constructor-from-leaderboard">Constructor</button>
                <button id="play-espejo-from-leaderboard">Espejo</button>
                <button id="play-cascada-from-leaderboard">Cascada</button>
                <button id="close-leaderboard-button">Cerrar</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>